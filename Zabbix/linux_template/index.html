<!--
  This Basic theme serves as an example for how to create other
  themes by demonstrating the features with minimal HTML and CSS.
  Comments like this will be through the code to explain briefly
  what each feature is and point you to the MkDocs documentation
  to find out more.
-->
<!DOCTYPE html>
<head>
  
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <!--
    The page_title contains the title for a page as shown in the navigation.
    Site name contains the name as defined in the mkdocs.yml
  -->
  
  <title>linux template - not name</title>
  
  <!--
    You can include external assets of course, but be aware that it means the
    documentation may not work well offline.
  -->
  <link rel="stylesheet" href="../../css/pure-min.css">
  <link rel="stylesheet" href="../../css/theme.css">

  <!--
    extra_ess contains paths to CSS files in the users
    documentation directory or a list of CSS files defined in
    their mkdocs.yml.

    http://www.mkdocs.org/user-guide/configuration/#extra_css
  -->
   
  
  
  
  
  
  
</head>

<body>

  <!--
  <h1>This is an example theme for MkDocs.</h1>

  <p>
    It is designed to be read by looking at the theme HTML which is heavily
    commented. The easiest way to do that is by
    <strong><a href="https://github.com/mkdocs/mkdocs-basic-theme/tree/master/basic_theme">
    looking at the source on GitHub.</a></strong>. Otherwise this is just a
    demonstration that the theme is fully functional.
  </p>

  <hr/>
  -->
  <!--
  <h2>Documentation Navigation</h2>
  -->
  <!--
    Create the navigation for the documentation.

    Because we don't know how many levels deep the navigation is, it needs to
    be included in it's own file so it can be recursive. Otherwise the theme
    can also only support a specific number of levels.

    See the nav.html file for more details about how this works.
  -->
  

<div id="layout">

    <!-- Menu toggle -->
  <h1 class="logo-text">
	<label for="toggler">
      <i class="fas fa-bars sidebar-toggle"></i>
    </label>
  </h1>
	
	<input type="checkbox" id="toggler"/>
    <div id="menu">
      <div class="pure-menu">
	  <a class="pure-menu-heading" href="../..">Home</a>
  <ul class="pure-menu-list">
  
    <!--

-->

  <li class="pure-menu-folder">
    Тренировки
    <ul>
        
            <!--

-->

<li >
    <a href="../../%D0%A2%D1%80%D0%B5%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8/%D0%A1%D0%B8%D0%BB%D0%BE%D0%B2%D1%8B%D0%B5%20%D1%82%D1%80%D0%B5%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8/" class="pure-menu-link">Силовые тренировки</a>
</li>

        
            <!--

-->

<li >
    <a href="../../%D0%A2%D1%80%D0%B5%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8/%D0%B2%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/" class="pure-menu-link">Восстановление</a>
</li>

        
            <!--

-->

<li >
    <a href="../../%D0%A2%D1%80%D0%B5%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8/%D0%B7%D0%B0%D1%80%D1%8F%D0%B4%D0%BA%D0%B0/" class="pure-menu-link">Зарядка</a>
</li>

        
            <!--

-->

<li >
    <a href="../../%D0%A2%D1%80%D0%B5%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8/%D1%80%D0%B0%D1%81%D1%82%D1%8F%D0%B6%D0%BA%D0%B0/" class="pure-menu-link">Статическая растяжка</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    Поход
    <ul>
        
            <!--

-->

<li >
    <a href="../../%D0%9F%D0%BE%D1%85%D0%BE%D0%B4/%D0%9F%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D0%B5/" class="pure-menu-link">Питание</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    Питание
    <ul>
        
            <!--

-->

<li >
    <a href="../../%D0%9F%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D0%B5/%D0%91%D0%96%D0%A3/" class="pure-menu-link">БЖУ</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    Кинокаталог
    <ul>
        
            <!--

-->

<li >
    <a href="../../%D0%9A%D0%B8%D0%BD%D0%BE%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3/%D0%9C%D1%83%D0%BB%D1%8C%D1%82%D1%84%D0%B8%D0%BB%D1%8C%D0%BC%D1%8B/" class="pure-menu-link">Мультфильмы</a>
</li>

        
            <!--

-->

<li >
    <a href="../../%D0%9A%D0%B8%D0%BD%D0%BE%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3/%D0%A4%D0%B8%D0%BB%D1%8C%D0%BC%D1%8B/" class="pure-menu-link">Фильмы</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    Useful programs
    <ul>
        
            <!--

-->

<li >
    <a href="../../useful_programs/" class="pure-menu-link">useful opensource programms</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    Zabbix
    <ul>
        
            <!--

-->

<li >
    <a href="../Partitioning/" class="pure-menu-link">Partitioning with external script for mysql/mariadb database</a>
</li>

        
            <!--

-->

<li >
    <a href="../SSO/" class="pure-menu-link">SSO in zabbix</a>
</li>

        
            <!--

-->

<li class="pure-menu-item">
    <a href="./" class="pure-menu-link">linux template</a>
</li>

        
            <!--

-->

<li >
    <a href="../mariadb/" class="pure-menu-link">Install mariadb node of galera + haproxy + keepalived</a>
</li>

        
            <!--

-->

<li >
    <a href="../mysql_monitoring/" class="pure-menu-link">Monitoring mysql/mariadb</a>
</li>

        
            <!--

-->

<li >
    <a href="../zabbix-agent/" class="pure-menu-link">install [zabbix-agent]</a>
</li>

        
            <!--

-->

<li >
    <a href="../zabbix-proxy/" class="pure-menu-link">Zabbix-proxy</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    Browser
    <ul>
        
            <!--

-->

<li >
    <a href="../../Browser/ublock/" class="pure-menu-link">uBlock Origin</a>
</li>

        
            <!--

-->

<li >
    <a href="../../Browser/%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0/" class="pure-menu-link">Изменение интерфейса</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    2022
    <ul>
        
            <!--

-->

<li >
    <a href="../../2022/1/" class="pure-menu-link">MkDocs Pure Theme1</a>
</li>

        
            <!--

-->

<li >
    <a href="../../2022/2/" class="pure-menu-link">MkDocs Pure Theme2</a>
</li>

        
            <!--

-->

<li >
    <a href="../../2022/3/" class="pure-menu-link">MkDocs Pure Theme3</a>
</li>

        
            <!--

-->

  <li class="pure-menu-folder">
    10
    <ul>
        
            <!--

-->

<li >
    <a href="../../2022/10/1/" class="pure-menu-link">MkDocs Pure Theme1</a>
</li>

        
            <!--

-->

<li >
    <a href="../../2022/10/2/" class="pure-menu-link">MkDocs Pure Theme2</a>
</li>

        
            <!--

-->

<li >
    <a href="../../2022/10/3/" class="pure-menu-link">MkDocs Pure Theme3</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    2021
    <ul>
        
            <!--

-->

<li >
    <a href="../../2021/" class="pure-menu-link">MkDocs Pure Theme</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

  <li class="pure-menu-folder">
    2020
    <ul>
        
            <!--

-->

<li >
    <a href="../../2020/" class="pure-menu-link">MkDocs Pure Theme</a>
</li>

        
    </ul>
  </li>

  
    <!--

-->

<li >
    <a href="../../2019-01-02/" class="pure-menu-link">MkDocs Pure Theme3</a>
</li>

  
    <!--

-->

<li >
    <a href="../../2018-12-31/" class="pure-menu-link">MkDocs Pure Theme2</a>
</li>

  
    <!--

-->

<li >
    <a href="../../2015-10-30/" class="pure-menu-link">MkDocs Pure Theme1</a>
</li>

  
    <!--

-->

<li >
    <a href="../.." class="pure-menu-link">Home</a>
</li>

  
  </ul>
      </div>
    </div>




<div id="main">
  <div class="content">
    
        <h1 id="linux-template">linux template</h1>
<p><a href="https://github.com/notoriginalnik/my/blob/main/zabbix_templates/linux_template.xml">Link to template</a>
Change standart interval and add preprocessing <code>Discard unchanged</code> to all items for resources saving.</p>
<h2 id="discovery-rules">discovery rules</h2>
<p>First what we can do, change discovery interval for all discovery rules.
For example from 1h to 12h or 24h, because its not critical latency.</p>
<h3 id="mounted-filesystem-discovery">Mounted filesystem discovery</h3>
<p>In this rule we have 5 item prototypes.
Lets change interval from 1m to 5m.
<code>Used disk space on {#FSNAME}</code>,<code>Free disk space on {#FSNAME}</code> and <code>Free disk space on {#FSNAME} (percentage)</code> is a duplication, so i can disable/not discover first and second.
<code>Free disk space on {#FSNAME} (percentage)</code> more usefull, because that has trigger.
<code>Total disk space on {#FSNAME}</code> usually that not dynamic info, bad idea to collect this with interval. So disable this item.
Main idea, if item not have trigger - useless for monitoring.
Best practice use zabbix inventory, zabbix api and other iventory system to store some static info like <code>Total disk space on {#FSNAME}</code>.</p>
<h3 id="network-interface-discovery">Network interface discovery</h3>
<p>Disable this discovery, there no triggers.
Also we can change interval from 1m to 5m and set trend storage period to 0.</p>
<h2 id="items">items</h2>
<h3 id="cpu">cpu</h3>
<p>Do not forgot change interval from 1m to what u need (5m nice for me).
There 10 items like <code>CPU /.*/ time</code> and only one trigger for <code>CPU iowait time</code>. So u know what it mean - disable usless, either set trend storage period to 0.
I can disable <code>Processor load (15 min average per core)</code>, because <code>Processor load (1 min average per core)</code>,<code>Processor load (1 min average per core)</code> enough for me.
I do not use static items <code>Version of Zabbix agent running</code>,<code>Host name of Zabbix agent running</code>.</p>
<h3 id="os">OS</h3>
<p><code>System uptime</code> is popular item, but we can add trigger <code>{Template OS Linux:system.boottime.diff()}=1 and {Template OS Linux:system.boottime.nodata(15m)}=0</code> to <code>Host boot time</code>.
<code>Discard unchanged</code> useless with <code>System uptime</code>, but will nice work with <code>Host boot time</code>.
<code>Host name</code>,<code>System information</code>,<code>Maximum number of processes</code>, <code>Maximum number of opened files</code>, <code>Host local time</code> useless for me.</p>
<h3 id="memory">memory</h3>
<p><code>Free swap space in %</code>, <code>Available memory</code> have triggers.
<code>Free swap space</code>, <code>Total memory</code>, <code>Total swap space</code> usless.</p>
<h2 id="triggers">triggers</h2>
<p>I changed invterval and added discard unchanged. Now i need to add nodata in <code>/etc/passwd has been changed on {HOST.NAME}</code>:
<code>{Template OS Linux:vfs.file.cksum[/etc/passwd].diff(0)}&gt;0 and {Template OS Linux:vfs.file.cksum[/etc/passwd].nodata(15m)}=0</code></p>
<p>Standart interval too low for me in <code>Disk I/O is overloaded on {HOST.NAME}</code>, i changed 5m to 10m:
{Template OS Linux:system.cpu.util[,iowait].min(10m)}&gt;20</p>
<p>Standart value in <code>Too many processes on {HOST.NAME}</code> too low, so i changed this to 1300^
{Template OS Linux:proc.num[].avg(5m)}&gt;1300</p>
    
    



  <!--  
  <h2>Next and previous links</h2>

    Implement the previous and next links to cycle through the pages.
  -->

    
    
    <nav class="pagination">
      
        <a href="../SSO/" class="pagination--pager" title="SSO in zabbix">&laquo; Previous</a>
      
      
      
        <a href="../mariadb/"  class="pagination--pager" title="Install mariadb node of galera + haproxy + keepalived"/>Next &raquo;</a>
      
    </nav>
    
    



  <!--
    Support repo URL
  -->
  
  
   Built on <a href="https://github.com/notoriginalnik/notoriginalnik.github.io">GitHub</a>
  
  
  
   with <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/notoriginalnik/mkdocs-pure">Pure theme</a>
  
  </div>
</div>

</div>
</body>
</html>